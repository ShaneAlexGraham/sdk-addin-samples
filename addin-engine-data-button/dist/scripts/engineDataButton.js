"use strict";geotab.customButtons.engineDataButton=function(e,t,n){e.preventDefault();var o,i,a,r,l=(c=n.getState())&&c.id&&c.id.length?c.id:null,d=null!==l&&Array.isArray(l),c=(e=new Date,{startDate:new Date(e.getTime()-864e5).toISOString(),endDate:e.toISOString()}),e={showMessage:function(e){(i=u())||((i=s("div",{id:"engineDataButton-addin"},{border:"1px solid #ffeb94","background-color":"#fffcdd",color:"#222",margin:"0 auto 0 auto",position:"relative",width:"600px",top:0,right:"0","z-index":"10004","table-layout":"fixed",opacity:.9,"text-align":"center"},document.body)).destroy=g,a=s("h2",null,{display:"inline-block",margin:"5px 0","word-wrap":"break-word","font-weight":"normal","font-size":"1.5em",color:"#222","text-align":"center"},i),(r=s("span",null,{float:"right","margin-top":"9px","font-size":"20px",width:"30px",position:"relative",top:"-0.1em",left:"-0.1em","font-family":"arial","font-style":"normal","font-weight":"bold",cursor:"pointer",display:"inline-block","text-decoration":"none","text-align":"center","vertical-align":"middle",overflow:"hidden","font-variant":"normal","text-transform":"none",color:"#222"},i)).innerHTML="x",r.addEventListener("click",g,!1),o=setInterval(g,5e3)),a.textContent=e},destroy:function(){(i=i||u())&&i.destroy()}};function s(e,t,n,o){return e=document.createElement(e),t&&function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}(e,t),n&&function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])}(e,n),o&&o.appendChild(e),e}function g(){o&&(clearInterval(o),o=void 0),r&&r.removeEventListener("click",g,!1),i&&i.parentNode&&i.parentNode.removeChild(i),r=a=i=void 0}function u(){return document.querySelector("#engineDataButton-addin")}l&&"all"!==l&&!d?(e.destroy(),n.gotoPage("engineDataProfile",{dateRange:c,device:[l],diagnostic:["DiagnosticEngineSpeedId","DiagnosticGoDeviceVoltageId","DiagnosticDeviceTotalFuelId"]})):e.showMessage(d?"Graph cannot be opened for multiple devices":"Select any vehicle first")};